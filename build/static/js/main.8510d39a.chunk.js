(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(module,__webpack_exports__,__webpack_require__){"use strict";var antd_es_row_style_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(134),antd_es_row__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(124),antd_es_list_style_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(271),antd_es_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98),antd_es_col_style_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(141),antd_es_col__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(97),antd_es_button_style_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(99),antd_es_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(38),antd_es_form_style_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(143),antd_es_form__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(39),antd_es_icon_style_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(145),antd_es_icon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(47),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(24),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(19),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(26),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(25),F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__),_Record__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(118),_Total__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(120);function calculateMoney(e,_,t){var a=parseFloat(e),n=parseFloat(_.tax),r=parseFloat(_.off),l=parseFloat(_.total);return(1===t?l:a-a/(l-n+r)*r+n/t).toFixed(2)}function clearEmptyElement(e){for(var _=e.slice(),t=0;t<_.length;t++)""!==_[t]&&"undefined"!==typeof _[t]||(_.splice(t,1),t-=1);return _}var formItemLayout={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},formItemLayoutWithOutLabel={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},LayoutComponent=function(_React$Component){function LayoutComponent(e){var _;return Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_13__.a)(this,LayoutComponent),(_=Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_15__.a)(this,Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_16__.a)(LayoutComponent).call(this,e))).add=function(){var e=_.props.form,t=e.getFieldValue("keys").concat(_.id++);e.setFieldsValue({keys:t})},_.remove=function(e){var t=_.props.form,a=t.getFieldValue("keys");1!==a.length&&t.setFieldsValue({keys:a.filter(function(_){return _!==e})})},_.handleSubmit=function(e){e.preventDefault(),_.props.form.validateFields(function(e,t){e||(t.names=clearEmptyElement(t.names),_.setState(Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_12__.a)({},t)))})},_.state={names:[],total:{}},_.id=0,_}return Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_17__.a)(LayoutComponent,_React$Component),Object(F_waimai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_14__.a)(LayoutComponent,[{key:"render",value:function render(){var _this2=this,_this$props$form=this.props.form,getFieldDecorator=_this$props$form.getFieldDecorator,getFieldValue=_this$props$form.getFieldValue,_this$state=this.state,names=_this$state.names,total=_this$state.total;getFieldDecorator("keys",{initialValue:[]});var keys=getFieldValue("keys"),formItems=keys.map(function(e,_){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a.Item,Object.assign({},0===_?formItemLayout:formItemLayoutWithOutLabel,{label:0===_?"\u70b9\u5916\u5356\u4eba\u5458":"",required:!1,key:e}),getFieldDecorator("names[".concat(e,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d\u548c\u5176\u6240\u70b9\u5916\u5356\u7684\u603b\u4ef7\u683c."}]})(react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_Record__WEBPACK_IMPORTED_MODULE_19__.a,null)),keys.length>1?react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===keys.length,onClick:function(){return _this2.remove(e)}}):null)});return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a,{onSubmit:this.handleSubmit},formItems,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a.Item,formItemLayoutWithOutLabel,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__.a,{type:"dashed",onClick:this.add,style:{width:"40%"}},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_11__.a,{type:"plus"})," \u6dfb\u52a0\u4e00\u884c")),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a.Item,formItemLayoutWithOutLabel,getFieldDecorator("total",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u76f8\u5173\u5185\u5bb9."}],initialValue:{tax:0,off:0,total:0}})(react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_Total__WEBPACK_IMPORTED_MODULE_20__.a,null))),!!this.id&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a.Item,formItemLayoutWithOutLabel,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"))),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_1__.a,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_5__.a,{span:4}),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_5__.a,{span:20},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_list__WEBPACK_IMPORTED_MODULE_3__.a,{style:{width:"80%"},header:react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div",null,"\u8ba1\u7b97\u7ed3\u679c"),bordered:!0,dataSource:names,renderItem:function renderItem(item){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(antd_es_list__WEBPACK_IMPORTED_MODULE_3__.a.Item,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("span",null,"\u59d3\u540d:".concat(item.name," ")),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("span",null,"\u539f\u4ef7:".concat(parseFloat(eval(item.currency).toFixed(2))," ")),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("span",null,"\u5b9e\u4ed8:".concat(calculateMoney(eval(item.currency),total,names.length)))))}}))))}}]),LayoutComponent}(react__WEBPACK_IMPORTED_MODULE_18___default.a.Component);__webpack_exports__.a=antd_es_form__WEBPACK_IMPORTED_MODULE_9__.a.create()(LayoutComponent)},118:function(e,_,t){"use strict";t(100);var a=t(37),n=t(47),r=t(24),l=t(26),o=t(25),s=t(19),u=t(27),c=t(1),i=t.n(c),E=function(e){function _(e){var t;Object(r.a)(this,_),(t=Object(l.a)(this,Object(o.a)(_).call(this,e))).handleNameChange=function(e){var _=e.target.value;"value"in t.props||t.setState({name:_}),t.triggerChange({name:_})},t.handleCurrencyChange=function(e){var _=e.target.value;"value"in t.props||t.setState({currency:_}),t.triggerChange({currency:_})},t.triggerChange=function(e){var _=t.props.onChange;_&&_(Object.assign({},t.state,e))};var a=e.value||{};return t.state={name:a.name||"",currency:a.currency||""},t}return Object(u.a)(_,e),Object(s.a)(_,null,[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?Object(n.a)({},e.value||{}):null}}]),Object(s.a)(_,[{key:"render",value:function(){var e=this.state,_=e.name,t=e.currency;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{placeholder:"\u70b9\u5916\u5356\u4eba\u5458\u59d3\u540d",value:_,style:{width:"40%",marginRight:8},onChange:this.handleNameChange}),i.a.createElement(a.a,{placeholder:"\u4ef7\u683c",value:t,style:{width:"40%",marginRight:8},onChange:this.handleCurrencyChange}))}}]),_}(i.a.PureComponent);_.a=E},120:function(e,_,t){"use strict";t(100);var a=t(37),n=t(47),r=t(24),l=t(26),o=t(25),s=t(19),u=t(27),c=t(1),i=t.n(c),E=function(e){function _(e){var t;Object(r.a)(this,_),(t=Object(l.a)(this,Object(o.a)(_).call(this,e))).handleTaxChange=function(e){var _=e.target.value;"value"in t.props||t.setState({tax:_}),t.triggerChange({tax:_})},t.handleOffChange=function(e){var _=e.target.value;"value"in t.props||t.setState({off:_}),t.triggerChange({off:_})},t.handleTotalChange=function(e){var _=e.target.value;"value"in t.props||t.setState({total:_}),t.triggerChange({total:_})},t.triggerChange=function(e){var _=t.props.onChange;_&&_(Object.assign({},t.state,e))};var a=e.value||{};return t.state={tax:a.tax,off:a.off,total:a.total},t}return Object(u.a)(_,e),Object(s.a)(_,null,[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?Object(n.a)({},e.value||{}):null}}]),Object(s.a)(_,[{key:"render",value:function(){var e=this.state,_=e.tax,t=e.off,n=e.total;return i.a.createElement("div",null,i.a.createElement("span",null,"\u914d\u9001\u8d39\u548c\u5305\u88c5\u8d39\uff1a"),i.a.createElement(a.a,{value:_,style:{width:"20%",marginRight:8},onChange:this.handleTaxChange}),i.a.createElement("span",null,"\u6ee1\u51cf\u548c\u7ea2\u5305\uff1a"),i.a.createElement(a.a,{value:t,style:{width:"20%",marginRight:8},onChange:this.handleOffChange}),i.a.createElement("span",null,"\u5b9e\u4ed8\u603b\u4ef7\uff1a"),i.a.createElement(a.a,{value:n,style:{width:"20%",marginRight:8},onChange:this.handleTotalChange}))}}]),_}(i.a.PureComponent);_.a=E},128:function(e,_,t){e.exports=t(272)},133:function(e,_,t){},272:function(e,_,t){"use strict";t.r(_);var a=t(1),n=t.n(a),r=t(4),l=t.n(r),o=(t(133),t(24)),s=t(19),u=t(26),c=t(25),i=t(27),E=t(117),m=function(e){function _(){return Object(o.a)(this,_),Object(u.a)(this,Object(c.a)(_).apply(this,arguments))}return Object(i.a)(_,e),Object(s.a)(_,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(E.a,null))}}]),_}(n.a.Component),d=function(e){function _(){return Object(o.a)(this,_),Object(u.a)(this,Object(c.a)(_).apply(this,arguments))}return Object(i.a)(_,e),Object(s.a)(_,[{key:"render",value:function(){return n.a.createElement(m,null)}}]),_}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[128,1,2]]]);
//# sourceMappingURL=main.8510d39a.chunk.js.map